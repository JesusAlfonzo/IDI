---
// src/components/WelcomeModal.astro
---

<div
  id="welcome-modal"
  class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black/60 backdrop-blur-sm transition-opacity duration-300 opacity-0"
>
  <div
    class="relative w-full max-w-lg transform rounded-xl bg-white p-6 shadow-2xl transition-all scale-95 duration-300 mx-4"
    id="modal-content"
  >
    <button
      id="close-modal-x"
      class="absolute right-4 top-4 text-gray-400 hover:text-red-500 focus:outline-none transition-colors"
      aria-label="Cerrar modal"
    >
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" class="h-6 w-6" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg>
    </button>

    <div class="text-center mt-2">
      <h3 class="text-2xl font-bold text-slate-800 mb-2">
        ¡Estamos de Regreso!
      </h3>
      <div class="h-1 w-20 bg-blue-600 mx-auto rounded-full mb-6"></div>
    </div>

    <div class="space-y-4 text-gray-600 px-2">
      <p class="text-center text-lg">
        Informamos a nuestra comunidad, <strong class="text-blue-700"
          >lunes 12 de enero de 2026</strong
        >, hemos reiniciado nuestras actividades con <strong
          >total normalidad</strong
        >.
      </p>

      <div class="bg-slate-50 rounded-lg p-5 border border-slate-200 shadow-sm">
        <ul class="space-y-4">
          <li class="flex items-center gap-3">
            <div class="bg-green-500 p-1 rounded-full">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" class="h-4 w-4 text-white" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="m5 13 4 4L19 7"/></svg>
            </div>
            <span class="text-slate-700"
              >Atención médica y consultas activas.</span
            >
          </li>
          <li class="flex items-center gap-3">
            <div class="bg-green-500 p-1 rounded-full">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" class="h-4 w-4 text-white" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="m5 13 4 4L19 7"/></svg>
            </div>
            <span class="text-slate-700"
              >Recepción de muestras de laboratorio.</span
            >
          </li>
          <li class="flex items-center gap-3">
            <div class="bg-green-500 p-1 rounded-full">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" class="h-4 w-4 text-white" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="m5 13 4 4L19 7"/></svg>
            </div>
            <span class="text-slate-700"
              >Horario habitual de atención al público.</span
            >
          </li>
        </ul>
      </div>

      <p class="text-center text-sm text-gray-500 mt-4 leading-relaxed">
        Agradecemos su confianza y les deseamos un excelente inicio de año 2026.
        <br /><strong>¡Le esperamos!</strong>
      </p>
    </div>

    <div class="mt-8 flex justify-center">
      <button
        id="close-modal-btn"
        class="w-full sm:w-auto rounded-lg bg-blue-600 px-10 py-3 text-white font-semibold shadow-lg hover:bg-blue-700 transition-all transform hover:scale-105 active:scale-95 focus:ring-4 focus:ring-blue-200"
      >
        Entendido
      </button>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const modal = document.getElementById("welcome-modal");
    const modalContent = document.getElementById("modal-content");
    const closeBtn = document.getElementById("close-modal-btn");
    const closeX = document.getElementById("close-modal-x");

    const showModal = () => {
      if (modal && modalContent) {
        modal.classList.remove("hidden");
        setTimeout(() => {
          modal.classList.remove("opacity-0");
          modalContent.classList.remove("scale-95");
          modalContent.classList.add("scale-100");
        }, 10);
      }
    };

    const closeModal = () => {
      if (modal && modalContent) {
        modal.classList.add("opacity-0");
        modalContent.classList.remove("scale-100");
        modalContent.classList.add("scale-95");
        setTimeout(() => {
          modal.classList.add("hidden");
        }, 300);
      }
    };

    // Lógica para mostrar el modal (puedes añadir un delay si quieres)
    showModal();

    closeBtn?.addEventListener("click", closeModal);
    closeX?.addEventListener("click", closeModal);
    modal?.addEventListener("click", (e) => {
      if (e.target === modal) closeModal();
    });
  });
</script>
